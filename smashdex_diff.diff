diff --git a/.gitignore b/.gitignore
index 59d67ca..8e837ac 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,4 +1,3 @@
-/index.php
 /.articles-cached
 /config/config.js
 node_modules
diff --git a/js/pokedex-moves.js b/js/pokedex-moves.js
index f6f6cb2..095fbfa 100644
--- a/js/pokedex-moves.js
+++ b/js/pokedex-moves.js
@@ -385,29 +385,33 @@ var PokedexMovePanel = PokedexResultPanel.extend({
 			var changes = '';
 
 			var nextGenType = move.type;
-			if (nextGenTable && nextGenTable.overrideMoveType[id]) nextGenType = nextGenTable.overrideMoveType[id];
-			var curGenType = genTable.overrideMoveType[id] || nextGenType;
+			if (nextGenTable && nextGenTable.overrideMoveType && nextGenTable.overrideMoveType[id]) nextGenType = nextGenTable.overrideMoveType[id];
+			var curGenType = nextGenType;
+			if (genTable.overrideMoveType) curGenType = genTable.overrideMoveType[id];
 			if (curGenType !== nextGenType) {
 				changes += 'Type: ' + curGenType + ' <i class="fa fa-long-arrow-right"></i> ' + nextGenType + '<br />';
 			}
 
 			var nextGenBP = move.basePower;
-			if (nextGenTable && nextGenTable.overrideBP[id]) nextGenBP = nextGenTable.overrideBP[id];
-			var curGenBP = genTable.overrideBP[id] || nextGenBP;
+			if (nextGenTable && nextGenTable.overrideBP && nextGenTable.overrideBP[id]) nextGenBP = nextGenTable.overrideBP[id];
+			var curGenBP = nextGenBP;
+			if (genTable.overrideBP) curGenBP = genTable.overrideBP[id];
 			if (curGenBP !== nextGenBP) {
 				changes += 'Base power: ' + curGenBP + ' <i class="fa fa-long-arrow-right"></i> ' + nextGenBP + '<br />';
 			}
 
 			var nextGenPP = move.pp;
-			if (nextGenTable && nextGenTable.overridePP[id]) nextGenPP = nextGenTable.overridePP[id];
-			var curGenPP = genTable.overridePP[id] || nextGenPP;
+			if (nextGenTable && nextGenTable.overridePP && nextGenTable.overridePP[id]) nextGenPP = nextGenTable.overridePP[id];
+			var curGenPP = nextGenPP;
+			if (genTable.overridePP) curGenPP = genTable.overridePP[id];
 			if (curGenPP !== nextGenPP) {
 				changes += 'PP: ' + curGenPP + ' <i class="fa fa-long-arrow-right"></i> ' + nextGenPP + '<br />';
 			}
 
 			var nextGenAcc = move.accuracy;
-			if (nextGenTable && nextGenTable.overrideAcc[id]) nextGenAcc = nextGenTable.overrideAcc[id];
-			var curGenAcc = genTable.overrideAcc[id] || nextGenAcc;
+			if (nextGenTable && nextGenTable.overrideAcc && nextGenTable.overrideAcc[id]) nextGenAcc = nextGenTable.overrideAcc[id];
+			var curGenAcc = nextGenAcc;
+			if (genTable.overrideAcc) curGenAcc = genTable.overrideAcc[id];
 			if (curGenAcc !== nextGenAcc) {
 				var curGenAccText = (curGenAcc === true ? 'nevermiss' : curGenAcc + '%');
 				var nextGenAccText = (nextGenAcc === true ? 'nevermiss' : nextGenAcc + '%');
@@ -415,7 +419,8 @@ var PokedexMovePanel = PokedexResultPanel.extend({
 			}
 
 			var nextGenDesc = curGenDesc;
-			curGenDesc = genTable.overrideMoveDesc[id] || nextGenDesc;
+			curGenDesc = nextGenDesc;
+			if (genTable.overrideMoveDesc) curGenDesc = genTable.overrideMoveDesc[id];
 			if (curGenDesc !== nextGenDesc) {
 				changes += curGenDesc + ' <i class="fa fa-long-arrow-right"></i> ' + nextGenDesc + '<br />';
 			}
@@ -444,7 +449,7 @@ var PokedexMovePanel = PokedexResultPanel.extend({
 		if (this.results) return this.results;
 		var results = [];
 		for (var pokemonid in BattleLearnsets) {
-			if (BattlePokedex[pokemonid].isNonstandard) continue;
+			if (!BattlePokedex[pokemonid] || BattlePokedex[pokemonid].isNonstandard || !BattleLearnsets[pokemonid].learnset) continue;
 			var sources = BattleLearnsets[pokemonid].learnset[moveid];
 			if (!sources) continue;
 			if (typeof sources === 'string') sources = [sources];
@@ -452,7 +457,7 @@ var PokedexMovePanel = PokedexResultPanel.extend({
 			for (var i=0, len=sources.length; i<len; i++) {
 				var source = sources[i];
 				if (source.substr(0,2) === '8L') {
-					results.push('a'+sourcePad(source)+pokemonid);
+					results.push('a'+source.substr(2).padStart(3,'0')+' '+pokemonid);
 					atLeastOne = true;
 				} else if (source === '8M') {
 					results.push('b000 '+pokemonid);
@@ -554,7 +559,8 @@ var PokedexMovePanel = PokedexResultPanel.extend({
 				desc = '<span class="itemicon" style="margin-top:-3px;'+Dex.getItemIcon({spritenum:508})+'"></span>';
 				break;
 			case 'c': // tutor
-				desc = '<img src="//' + Config.routes.client + '/sprites/tutor.png" style="margin-top:-4px;opacity:.7" width="27" height="26" alt="T" />';
+				console.log(Config.routes.client);
+				desc = '<img src="https://' + Config.routes.client + '/sprites/tutor.png" style="margin-top:-4px;opacity:.7" width="27" height="26" alt="T" />';
 				break;
 			case 'd': // egg move
 				desc = '<span class="picon" style="margin-top:-12px;'+Dex.getPokemonIcon('egg')+'"></span>';
diff --git a/js/pokedex-pokemon.js b/js/pokedex-pokemon.js
index 309f3cc..8f2ea25 100644
--- a/js/pokedex-pokemon.js
+++ b/js/pokedex-pokemon.js
@@ -214,15 +214,17 @@ var PokedexPokemonPanel = PokedexResultPanel.extend({
 			var changes = '';
 
 			var nextGenType = latestGenType;
-			if (nextGenTable && id in nextGenTable.overrideType) nextGenType = nextGenTable.overrideType[id];
-			var curGenType = genTable.overrideType[id] || nextGenType;
+			if (nextGenTable && nextGenTable.overrideType && id in nextGenTable.overrideType) nextGenType = nextGenTable.overrideType[id];
+			var curGenType = nextGenType;
+			if (genTable.overrideType) curGenType = genTable.overrideType[id];
 			if (curGenType !== nextGenType) {
 				changes += 'Type: ' + curGenType + ' <i class="fa fa-long-arrow-right"></i> ' + nextGenType + '<br />';
 			}
 
 			var nextGenAbility = pokemon.abilities['0'];
-			if (nextGenTable && id in nextGenTable.overrideAbility) nextGenAbility = nextGenTable.overrideAbility[id];
-			var curGenAbility = genTable.overrideAbility[id] || nextGenAbility;
+			if (nextGenTable && nextGenTable.overrideAbility && id in nextGenTable.overrideAbility) nextGenAbility = nextGenTable.overrideAbility[id];
+			var curGenAbility = nextGenAbility;
+			if (genTable.overrideAbility) curGenAbility = genTable.overrideAbility[id];
 			if (curGenAbility !== nextGenAbility) {
 				changes += 'Ability: ' + curGenAbility + ' <i class="fa fa-long-arrow-right"></i> ' + nextGenAbility + '<br />';
 			}
@@ -230,8 +232,9 @@ var PokedexPokemonPanel = PokedexResultPanel.extend({
 			for (var i in BattleStatNames) {
 				if (genNum === 1 && (i === 'spa' || i === 'spd')) continue;
 				var nextGenStat = pokemon.baseStats[i];
-				if (nextGenTable && nextGenTable.overrideStats[id] && nextGenTable.overrideStats[id][i]) nextGenStat = nextGenTable.overrideStats[id][i];
-				var curGenStat = (genTable.overrideStats[id] && genTable.overrideStats[id][i]) || nextGenStat;
+				if (nextGenTable && nextGenTable.overrideStats && nextGenTable.overrideStats[id] && nextGenTable.overrideStats[id][i]) nextGenStat = nextGenTable.overrideStats[id][i];
+				var curGenStat = nextGenStat;
+				if (genTable.overrideStats) curGenStat = genTable.overrideStats[id] && genTable.overrideStats[id][i];
 				if (curGenStat !== nextGenStat) {
 					changes += BattleStatNames[i] + ': ' + curGenStat + ' <i class="fa fa-long-arrow-right"></i> ' + nextGenStat + '<br />';
 				}
@@ -239,10 +242,11 @@ var PokedexPokemonPanel = PokedexResultPanel.extend({
 
 			if (genNum === 1 && pokemon.num > 0 && pokemon.num <= 151 && !pokemon.forme) {
 				var nextGenSpA = pokemon.baseStats['spa'];
-				if (nextGenTable && nextGenTable.overrideStats[id] && nextGenTable.overrideStats[id]['spa']) nextGenSpA = nextGenTable.overrideStats[id]['spa'];
+				if (nextGenTable && nextGenTable.overrideStats && nextGenTable.overrideStats[id] && nextGenTable.overrideStats[id]['spa']) nextGenSpA = nextGenTable.overrideStats[id]['spa'];
 				var nextGenSpD = pokemon.baseStats['spd'];
-				if (nextGenTable && nextGenTable.overrideStats[id] && nextGenTable.overrideStats[id]['spd']) nextGenSpD = nextGenTable.overrideStats[id]['spd'];
-				var curGenSpc = (genTable.overrideStats[id] && genTable.overrideStats[id]['spa']) || nextGenSpA;
+				if (nextGenTable && nextGenTable.overrideStats && nextGenTable.overrideStats[id] && nextGenTable.overrideStats[id]['spd']) nextGenSpD = nextGenTable.overrideStats[id]['spd'];
+				var curGenSpc = nextGenSpA;
+				if (genTable.overrideStats) curGenSpc = genTable.overrideStats[id] && genTable.overrideStats[id]['spa'];
 				changes += '' + curGenSpc + ' Spc <i class="fa fa-long-arrow-right"></i> ' + nextGenSpA + ' SpA, ' + nextGenSpD + ' SpD<br />';
 			}
 
diff --git a/testclient.html b/testclient.html
index 8185cbb..0622a82 100644
--- a/testclient.html
+++ b/testclient.html
@@ -6,11 +6,11 @@
 	<title>Pok&eacute;dex - Pok&eacute;mon Showdown</title>
 
 	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE8" />
-	<link rel="stylesheet" href="https://play.pokemonshowdown.com/style/font-awesome.css" />
+	<link rel="stylesheet" href="C:\Users\pswan\Downloads\pokemon-showdown-client/style/font-awesome.css" />
 	<link rel="stylesheet" href="theme/panels.css?b1" />
 	<link rel="stylesheet" href="theme/main.css?b1" />
 	<meta name="viewport" content="width=device-width,initial-scale=1">
-	<link rel="stylesheet" href="https://play.pokemonshowdown.com/style/utilichart.css?b359" />
+	<link rel="stylesheet" href="C:\Users\pswan\Downloads\pokemon-showdown-client/style/utilichart.css?b359" />
 	<link rel="stylesheet" href="theme/pokedex.css?b359" />
 
 	<!-- Workarounds for IE bugs to display trees correctly. -->
@@ -41,19 +41,19 @@
 	<script src="js/lib/backbone-min.js"></script>
 	<script src="js/panels.js"></script>
 
-	<script src="https://play.pokemonshowdown.com/config/config.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/js/battledata.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/search-index.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/pokedex.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/teambuilder-tables.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/learnsets.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/moves.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/abilities.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/items.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/typechart.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/data/aliases.js?v0.9xy31"></script>
-	<script src="https://play.pokemonshowdown.com/js/battle-dex-search.js?b359"></script>
-	<script src="https://play.pokemonshowdown.com/js/search.js?b359"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/config/config.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/js/battledata.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/search-index.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/pokedex.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/teambuilder-tables.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/learnsets.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/moves.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/abilities.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/items.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/typechart.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/data/aliases.js?v0.9xy31"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/js/battle-dex-search.js?b359"></script>
+	<script src="C:\Users\pswan\Downloads\pokemon-showdown-client/js/search.js?b359"></script>
 	<script src="js/pokedex.js?b359"></script>
 	<script src="js/pokedex-pokemon.js?b359"></script>
 	<script src="js/pokedex-moves.js?b359"></script>
